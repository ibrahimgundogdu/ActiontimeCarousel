@model DayResultControlModel
<link rel="stylesheet" href="/assets/scss/global.css">
@using (Html.BeginForm("UpdateCashRecordSlip", "DayResult", FormMethod.Post, new { role = "form", enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()

    <div class="form-group row mb-1">
        <label class="col-4 col-form-label">Numarası</label>
        <div class="col-8">
            <label class="form-control font-weight-bold mb-0 bg-body"> @(Model.CashRecorderSlip.DocumentNumber)</label>
            <input id="Hidden1" name="UID" type="hidden" value="@(Model.CashRecorderSlip.UID)" />
        </div>
    </div>

    <div class="form-group row mb-1">
        <label class="col-4 col-form-label">Tarihi</label>
        <div class="col-8">
            <label class="form-control font-weight-bold mb-0 bg-body"> @(Model.CashRecorderSlip.Date?.ToString("yyyy-MM-dd"))</label>
            <input id="DocumentDate" name="DocumentDate" type="hidden" value="@(Model.CashRecorderSlip.Date?.ToString("yyyy-MM-dd"))">
        </div>
    </div>

    <div class="form-group row mb-1">
        <label class="col-4 col-form-label pr-0">ZRapor No</label>
        <div class="col-8">
            <input id="ReceiptNumber" type="text" name="ReceiptNumber" class="form-control font-weight-bold" value="@(Model.CashRecorderSlip.SlipNumber)" required />
        </div>
    </div>

    <div class="form-group row mb-1">
        <label class="col-4 col-form-label">Fiş Tarihi</label>
        <div class="col-8">
            <input id="ReceiptDate" name="ReceiptDate" type="date" class="form-control font-weight-bold" placeholder="Date" value="@(Model.CashRecorderSlip.SlipDate?.ToString("yyyy-MM-dd"))" required>
        </div>
    </div>

    <div class="form-group row mb-1">
        <label class="col-4 col-form-label">Fiş Saati</label>
        <div class="col-8">
            <input id="ReceiptTime" name="ReceiptTime" type="time" class="form-control font-weight-bold" step="1" placeholder="Time" value="@(Model.CashRecorderSlip.SlipDate?.ToString("HH\\:mm\\:ss"))" required>
        </div>
    </div>

    <div class="form-group row mb-1">
        <label class="col-4 col-form-label">Nakit</label>
        <div class="col-8">
            <input id="CashAmount1" name="CashAmount" type="text" class="form-control font-weight-bold text-right money" onkeyup="SumCashRecorder()" value="@(Model.CashRecorderSlip.CashAmount?.ToString("N2"))" required>
        </div>
    </div>
    <div class="form-group row mb-1">
        <label class="col-4 col-form-label">Kredi</label>
        <div class="col-8">
            <input id="CreditAmount1" name="CreditAmount" type="text" class="form-control font-weight-bold text-right money" onkeyup="SumCashRecorder()" value="@(Model.CashRecorderSlip.CreditAmount?.ToString("N2"))" required>
        </div>
    </div>

    <div class="form-group row mb-1">
        <label class="col-4 col-form-label pr-0">Fiş Tutarı</label>
        <div class="col-8">
            <input id="NetAmount1" name="NetAmount" type="text" class="form-control font-weight-bold text-right money" value="@(Model.CashRecorderSlip.NetAmount?.ToString("N2"))" required>
        </div>
    </div>

    <div class="form-group row mb-1">
        <label class="col-4 col-form-label pr-0">Genel Tutar</label>
        <div class="col-8">
            <input id="TotalAmount" name="TotalAmount" type="text" class="form-control font-weight-bold text-right money" value="@(Model.CashRecorderSlip.TotalAmount?.ToString("N2"))" required>
        </div>
    </div>

    <div class="form-group row">
        <div class="col-12">
            @if (!Request.IsLocal)
            {
                <img src="@($"http://action.ufegrup.com/Document/Expense/{Model.CashRecorderSlip.SlipFile}")" alt="@(Model.CashRecorderSlip.SlipFile)" style="width:100%" />
            }
            else
            {
                <img src="@($"/Documents/{Model.CashRecorderSlip.SlipFile}")" alt="@(Model.CashRecorderSlip.SlipFile)" style="width:100%" />
            }
        </div>
    </div>

    <div class="form-group row">
        <div class="col-12">
            <input id="ReceiptFile" name="ReceiptFile" class="form-control" type="file" style="width:100%;" />
        </div>
    </div>

    <div class="form-group row mb-1">
        <label class="col-4 col-form-label">Aktif ?</label>
        <div class="col-8">
            <label class="form-check-label font-weight-bold pl-4 pt-1">
                <input class="form-check-input" type="checkbox" name="IsActive" value="1" @(Model.CashRecorderSlip.IsActive == true ? "checked" : "")> Aktif
            </label>
        </div>
    </div>

    <div class="form-group">

        <button type="submit"  class="btn btn-block btn-rounded btn-primary">Kaydet</button>

    </div>

}

<script type="text/javascript">

    $(function () {
        $('.shiftbegintime').mask('00:00');
        $('.hour').mask('00:00');
        $('.hourfull').mask('00:00:00');
        $('.shiftdate').mask('0000-00-00');
        $('.postcode').mask('00000-000');
        $('.money').mask("#.##0,00", { reverse: true });
        $('.money4').mask("#.##0,0000", { reverse: true });
    });

    function SumCashRecorder() {

        var cashamount = $("#CashAmount1").val().replace('.', '').replace(',', '.');
        console.log(cashamount);
        var creditamount = $("#CreditAmount1").val().replace('.', '').replace(',', '.');
        console.log(creditamount);
        var rate = parseFloat(cashamount) + parseFloat(creditamount) || 0.00;
        console.log(rate);
        $("#NetAmount1").val(rate.toFixed(2).replace('.', ',').toString());

    };

</script>
