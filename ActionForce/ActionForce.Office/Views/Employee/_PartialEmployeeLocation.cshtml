@model EmployeeControlModel



@using (Ajax.BeginForm("AddEmployeeLocation", new AjaxOptions() { HttpMethod = "POST", UpdateTargetId = "LocationList", InsertionMode = InsertionMode.Replace }))
{
    @Html.AntiForgeryToken()

    <table class="table table-warning table-sm tx-13 tx-nowrap mb-5p">
        <tbody>
            <tr class="bg-white">
                <td class="wd-5p"></td>
                <td class="tx-medium wd-10p" style="padding:2px !important;">
                    Lokasyon
                </td>
                <td class="text-right wd-15p" style="padding:2px !important;">
                    <select class="form-control wd-90p select2" id="LocationID" name="LocationID">
                        <option value="">Lokasyon Seçiminiz</option>
                        @foreach (var item in Model.LocationList)
                        {
                            <option value="@item.LocationID" @(Model.CurrentLocation?.LocationID == item.LocationID ? "selected" : "")>@($"{item.LocationName} {item.Description} {item.State}")</option>
                        }
                    </select>
                </td>
                <td class="text-right wd-15p" style="padding:2px !important;">
                    <select class="form-control wd-90p select2" id="RolID" name="RolID">
                        <option value="">Rol Seçiminiz</option>
                        @foreach (var item in Model.RoleGroupList)
                        {
                            <option value="@item.ID" @(Model.CurrentLocation?.RoleID == item.ID ? "selected" : "")>@($"{item.RoleLevel} {item.GroupName}")</option>
                        }
                    </select>
                </td>
                <td class="wd-10p" style="padding:2px !important;">
                    <div class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" id="IsActive" name="IsActive" value="1" @(Model.CurrentLocation?.IsActive == true ? "checked" : "")>
                        <label class="custom-control-label" for="IsActive">Aktif</label>
                    </div>
                </td>
                <td class="wd-10p" style="padding:2px !important;">
                    <div class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" id="IsMaster" name="IsMaster" value="1" @(Model.CurrentLocation?.IsMaster == true ? "checked" : "")>
                        <label class="custom-control-label" for="IsMaster">Master</label>
                    </div>
                </td>
                <td class="wd-15p" style="padding:2px !important;">
                    <button type="submit" class="btn btn-xs btn-dark btn-block">@(Model.CurrentLocation?.LocationID != null ? "Lokasyon Güncelle" : "Lokasyon Ekle")</button>
                </td>
                <td class="wd-5p" style="padding:2px !important;"></td>

            </tr>
        </tbody>
    </table>
    


}

<div id="LocationList">

    @{Html.RenderPartial("_PartialEmployeeLocationList", Model); }
</div>

@if (Model.Result != null) //
{
    <script type="text/javascript">
        $.toast({
            heading: 'Information',
            text: '@Model.Result.Message ',
            showHideTransition: 'slide',
            icon: 'info',
            hideAfter: 5000,
            position: 'bottom-right',
        });
    </script>
}