@using System.Globalization;
@model ResultControlModel
@{
    ViewBag.Title = "Gün Sonu Zarf Detayı";
    var defaultCurrency = Model.Authentication.ActionEmployee.OurCompany.Currency;
}

@section style{
    <link rel="stylesheet" href="/assets/css/dashforge.profile.css">
    <style>
        img.thumb {
            border: 1px solid #ddd;
            border-radius: 2px;
            padding: 1px;
            height: 30px;
        }

            img.thumb:hover {
                box-shadow: 0 0 2px 1px rgba(0, 140, 186, 0.5);
            }
    </style>
}

<div class="content-header">
    <div class="content-search">
        <span class="tx-20">Gün Sonu Zarfları</span>
    </div>
    <nav class="nav">
        @(DateTime.UtcNow.AddHours(Model.CurrentLocation.Timezone.Value).ToLongDateString())
    </nav>
</div>
<div class="content-body">
    <div class="pd-x-0 tx-13">
        <div class="media d-block d-lg-flex">
            <div class="media-body mg-t-40 mg-lg-t-0">
                <div class="profile-update-option bg-light ht-50 bd d-flex justify-content-end mg-b-20 mg-lg-b-20 rounded">
                    <div class="d-flex align-items-center pd-x-5 mg-r-auto">
                        0
                    </div>
                    <div class="wd-50 bd-l d-flex align-items-center justify-content-center">
                        <a href="#" id="LocationResultDate" class="link-03" title="Tarih Seç">
                            <i data-feather="calendar"></i>
                            <input type="hidden" id="DatePicker" />
                            <div></div>
                        </a>
                        <input id="CurrentDateCode" type="hidden" value="@Model.CurrentDateCode" />
                    </div>
                    <div class="wd-50 bd-l d-flex align-items-center justify-content-center">
                        <a href="/Result/Detail?date=@(Model.PrevDateCode)&locationID=@(Model.CurrentLocation.LocationID)" class="link-03" title="Bir Önceki Gün"><i data-feather="arrow-left"></i></a>
                    </div>
                    <div class="wd-50 bd-l d-flex align-items-center justify-content-center">
                        <a href="/Result/Detail?date=@(Model.TodayDateCode)&locationID=@(Model.CurrentLocation.LocationID)" class="link-03" title="Bu Gün"><i data-feather="target"></i></a>
                    </div>
                    <div class="wd-50 bd-l d-flex align-items-center justify-content-center">
                        <a href="/Result/Detail?date=@(Model.NextDateCode)&locationID=@(Model.CurrentLocation.LocationID)" class="link-03" title="Bir Sonraki Gün"><i data-feather="arrow-right"></i></a>
                    </div>

                </div>



                <div class="card mg-b-20 mg-lg-b-25">
                    <div class="card-header pd-y-15 pd-x-20 d-flex align-items-center justify-content-between">
                        <h6 class="tx-13 tx-spacing-1 tx-uppercase tx-semibold mg-b-0">@($"{Model.CurrentLocation.SortBy} {Model.CurrentDayResult.LocationFullName}" )</h6>
                        <nav class="nav">
                            <a href="" class="link-03 mg-l-10"><span class="d-none d-sm-inline">@(Model.CurrentDate?.DateKey.ToShortDateString())</span></a>
                        </nav>
                    </div><!-- card-header -->
                    <div class="card-body pd-r-10 pd-l-10 pd-t-0">
                        <div class="row row-xs">
                            <div class="col-md-9 pd-r-0 pd-l-0 pd-t-0">

                                <div class="col-md-12 mg-t-10 pd-r-0 pd-l-0 pd-t-0">
                                    <div class="card ht-100p">
                                        <div class="card-header d-flex align-items-center justify-content-between">
                                            <h6 class="mg-b-0">Nakit Satış / İade İşlemleri</h6>
                                            <div class="d-flex tx-18">
                                                @*<a href="" class="link-03 lh-0"><i class="icon ion-md-refresh"></i></a>
                                                <a href="" class="link-03 lh-0 mg-l-10"><i class="icon ion-md-more"></i></a>*@
                                            </div>
                                        </div>
                                        <div class="table-responsive">
                                            <table class="table table-hover mg-b-0">
                                                <thead class="bg-gray-100">
                                                    <tr>
                                                        <th>&nbsp;</th>
                                                        <th colspan="4" class="bd-l text-center font-weight-bold"><span>(2) Nakit Satış</span></th>
                                                        <th colspan="4" class="bd-l text-center font-weight-bold"><span>(5) Nakit Satış İade</span></th>
                                                    </tr>
                                                    <tr>
                                                        <th><span></span></th>
                                                        <th class="bd-l text-right"><span>Adet</span></th>
                                                        <th class="text-right"><span>Tutar</span></th>
                                                        <th class="text-center"><span>Açıklama</span></th>
                                                        <th class="text-center"><span></span></th>

                                                        <th class="bd-l text-right"><span>Adet</span></th>
                                                        <th class="text-right"><span>Tutar</span></th>
                                                        <th class="text-center"><span>Açıklama</span></th>
                                                        <th class="text-center"><span></span></th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    @if (Model.Authentication.ActionEmployee.OurCompanyID == 1)
                                                    {
                                                        <tr>
                                                            <td>USD ($)</td>

                                                            <td class="bd-l text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="N2QUSD" class="form-control font-weight-bold text-right text-info" autocomplete="off" min="0" placeholder="0" value="1">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="N2AUSD" class="form-control money font-weight-bold text-right text-info" autocomplete="off" min="0" placeholder="0,00" value="0,00">
                                                            </td>
                                                            <td style="padding:1px !important;">
                                                                <input type="text" id="N2DUSD" class="form-control" autocomplete="off" placeholder="" />
                                                            </td>
                                                            <td class="text-center" style="width:50px; padding:1px !important;">
                                                                <a href="#" class="text-primary" onclick="return confirm('Eklemek istediğinize emin misiniz ?') ? AddCashSale(@Model.CurrentDayResult.ID,'USD'):false;">
                                                                    <i data-feather="plus-square"></i>
                                                                </a>
                                                            </td>
                                                            <td class="bd-l text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="I5QUSD" class="form-control font-weight-bold text-right text-danger" autocomplete="off" min="0" placeholder="0" value="1">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="I5AUSD" class="form-control money font-weight-bold text-right text-danger" autocomplete="off" min="0" placeholder="0,00" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 5 && x.Currency == "USD")?.Amount?.ToString("N2"))">
                                                            </td>
                                                            <td style="padding:1px !important;">
                                                                <input type="text" id="I5DUSD" class="form-control" placeholder="" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 5 && x.Currency == "USD")?.Description)" />
                                                            </td>
                                                            <td class="text-center" style="width:50px; padding:1px !important;">
                                                                <a href="#" class="text-primary" onclick="return confirm('Eklemek istediğinize emin misiniz ?') ? AddCashSaleRefund(@Model.CurrentDayResult.ID,'USD'):false;">
                                                                    <i data-feather="plus-square"></i>
                                                                </a>
                                                            </td>
                                                        </tr>
                                                    }
                                                    else
                                                    {

                                                        <tr>
                                                            <td style="width:100px;"><strong>TRL (₺)</strong></td>

                                                            <td class="bd-l text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="N2QTRL" name="N2TRL" class="form-control font-weight-bold text-right text-info" autocomplete="off" placeholder="0" value="1">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="N2ATRL" name="N2TRL" class="form-control money font-weight-bold text-right text-info" autocomplete="off" min="0" placeholder="0,00" value="0,00">
                                                            </td>
                                                            <td style="padding:1px !important;">
                                                                <input type="text" id="N2DTRL" name="N2TRLD" class="form-control" autocomplete="off" placeholder="" />
                                                            </td>
                                                            <td class="text-center" style="width:50px; padding:1px !important;">
                                                                <a href="#" class="text-primary" onclick="return confirm('Eklemek istediğinize emin misiniz ?') ? AddCashSale(@Model.CurrentDayResult.ID,'TRL') : false;">
                                                                    <i data-feather="plus-square"></i>
                                                                </a>
                                                            </td>
                                                            <td class="bd-l  text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="I5QTRL" class="form-control font-weight-bold text-right text-danger" autocomplete="off" min="0" placeholder="0" value="1">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="I5ATRL" class="form-control money font-weight-bold text-right text-danger" autocomplete="off" min="0" placeholder="0,00" value="0,00">
                                                            </td>
                                                            <td style="padding:1px !important;">
                                                                <input type="text" id="I5DTRL" class="form-control" autocomplete="off" placeholder="" />
                                                            </td>
                                                            <td class="text-center" style="width:50px; padding:1px !important;">
                                                                <a href="#" class="text-primary" onclick="return confirm('Eklemek istediğinize emin misiniz ?') ? AddCashSaleRefund(@Model.CurrentDayResult.ID,'TRL'):false;">
                                                                    <i data-feather="plus-square"></i>
                                                                </a>
                                                            </td>
                                                        </tr>

                                                        <tr>

                                                            <td>EUR (€)</td>

                                                            <td class="bd-l text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="N2QEUR" class="form-control font-weight-bold text-right text-info" autocomplete="off" min="0" placeholder="0" value="1">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="N2AEUR" class="form-control money font-weight-bold text-right text-info" autocomplete="off" min="0" placeholder="0,00" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 2 && x.Currency == "EUR")?.Amount?.ToString("N2"))">
                                                            </td>
                                                            <td style="padding:1px !important;">
                                                                <input type="text" id="N2DEUR" class="form-control" autocomplete="off" placeholder="" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 2 && x.Currency == "EUR")?.Description)" />
                                                            </td>
                                                            <td class="text-center" style="width:50px; padding:1px !important;">
                                                                <a href="#" class="text-primary" onclick="return confirm('Eklemek istediğinize emin misiniz ?') ? AddCashSale(@Model.CurrentDayResult.ID,'EUR'):false;">
                                                                    <i data-feather="plus-square"></i>
                                                                </a>
                                                            </td>
                                                            <td class="bd-l" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="I5QEUR" class="form-control font-weight-bold text-right text-danger" autocomplete="off" min="0" placeholder="0" value="1">
                                                            </td>
                                                            <td class="" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="I5AEUR" class="form-control money font-weight-bold text-right text-danger" autocomplete="off" min="0" placeholder="0,00" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 5 && x.Currency == "EUR")?.Amount?.ToString("N2"))">
                                                            </td>
                                                            <td style="padding:1px !important;">
                                                                <input type="text" id="I5DEUR" class="form-control" autocomplete="off" placeholder="" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 5 && x.Currency == "EUR")?.Description)" />
                                                            </td>
                                                            <td class="text-center" style="width:50px; padding:1px !important;">
                                                                <a href="#" class="text-primary" onclick="return confirm('Eklemek istediğinize emin misiniz ?') ? AddCashSaleRefund(@Model.CurrentDayResult.ID,'EUR'):false;">
                                                                    <i data-feather="plus-square"></i>
                                                                </a>
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <td>USD ($)</td>

                                                            <td class="bd-l text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="N2QUSD" class="form-control font-weight-bold text-right text-info" autocomplete="off" min="0" placeholder="0" value="1">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="N2AUSD" class="form-control money font-weight-bold text-right text-info" autocomplete="off" min="0" placeholder="0,00" value="0,00">
                                                            </td>
                                                            <td style="padding:1px !important;">
                                                                <input type="text" id="N2DUSD" class="form-control" autocomplete="off" placeholder="" />
                                                            </td>
                                                            <td class="text-center" style="width:50px; padding:1px !important;">
                                                                <a href="#" class="text-primary" onclick="return confirm('Eklemek istediğinize emin misiniz ?') ? AddCashSale(@Model.CurrentDayResult.ID,'USD'):false;">
                                                                    <i data-feather="plus-square"></i>
                                                                </a>
                                                            </td>
                                                            <td class="bd-l text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="I5QUSD" class="form-control font-weight-bold text-right text-danger" autocomplete="off" min="0" placeholder="0" value="1">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;"> 
                                                                <input type="text" id="I5AUSD" class="form-control money font-weight-bold text-right text-danger" autocomplete="off" min="0" placeholder="0,00" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 5 && x.Currency == "USD")?.Amount?.ToString("N2"))">
                                                            </td>
                                                            <td style="padding:1px !important;">
                                                                <input type="text" id="I5DUSD" class="form-control" placeholder="" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 5 && x.Currency == "USD")?.Description)" />
                                                            </td>
                                                            <td class="text-center" style="width:50px; padding:1px !important;">
                                                                <a href="#" class="text-primary" onclick="return confirm('Eklemek istediğinize emin misiniz ?') ? AddCashSaleRefund(@Model.CurrentDayResult.ID,'USD'):false;">
                                                                    <i data-feather="plus-square"></i>
                                                                </a>
                                                            </td>
                                                        </tr>
                                                    }


                                                </tbody>

                                            </table>
                                        </div>
                                        <div class="card-body pd-0" id="CashSale">
                                            @{Html.RenderPartial("_PartialCashSale", Model);}
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-12 mg-t-10 pd-r-0 pd-l-0 pd-t-0">
                                    <div class="card ht-100p">
                                        <div class="card-header d-flex align-items-center justify-content-between">
                                            <h6 class="mg-b-0">Kart Satış / İade İşlemleri</h6>
                                            <div class="d-flex tx-18">
                                                @*<a href="" class="link-03 lh-0"><i class="icon ion-md-refresh"></i></a>
                                                <a href="" class="link-03 lh-0 mg-l-10"><i class="icon ion-md-more"></i></a>*@
                                            </div>
                                        </div>
                                        <div class="table-responsive">
                                            <table class="table table-hover mg-b-0">
                                                <thead class="bg-gray-100">
                                                    <tr>
                                                        <th>&nbsp;</th>
                                                        <th colspan="4" class="bd-l text-center font-weight-bold"><span>(10) Kredi Kartı Satış</span></th>
                                                        <th colspan="4" class="bd-l text-center font-weight-bold"><span>(11,12) Kredi Kartı İptal / İade</span></th>
                                                    </tr>
                                                    <tr>
                                                        <th><span></span></th>
                                                        <th class="bd-l text-right"><span>Adet</span></th>
                                                        <th class="text-right"><span>Tutar</span></th>
                                                        <th class="text-center"><span>Açıklama</span></th>
                                                        <th></th>
                                                        <th class="bd-l text-right"><span>Adet</span></th>
                                                        <th class="text-right"><span>Tutar</span></th>
                                                        <th class="text-center"><span>Açıklama</span></th>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td style="width:100px;"><strong>@(Model.Authentication.ActionEmployee.OurCompany.Currency)</strong></td>


                                                        <td class="bd-l text-right" style="width:100px; padding:1px !important;">
                                                            <input type="text" id="S10CSQ" class="form-control font-weight-bold text-right tx-orange" autocomplete="off" placeholder="0" value="1">
                                                        </td>
                                                        <td class="text-right" style="width:100px; padding:1px !important;">
                                                            <input type="text" id="S10CSA" class="form-control money font-weight-bold text-right tx-orange" autocomplete="off" min="0" placeholder="0,00" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 10 && x.Currency == defaultCurrency)?.Amount?.ToString("N2"))">
                                                        </td>
                                                        <td style="padding:1px !important;">
                                                            <input type="text" id="S10CSD" class="form-control" autocomplete="off" placeholder="" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 10 && x.Currency == defaultCurrency)?.Description)" />
                                                        </td>
                                                        <td class="text-center" style="width:50px; padding:1px !important;">
                                                            <a href="#" class="text-primary" onclick="return confirm('Eklemek istediğinize emin misiniz ?') ? AddCardSale(@Model.CurrentDayResult.ID,'@(defaultCurrency)'):false;">
                                                                <i data-feather="plus-square"></i>
                                                            </a>
                                                        </td>
                                                        <td class="bd-l  text-right" style="width:100px; padding:1px !important;">
                                                            <input type="text" id="R11CRQ" class="form-control font-weight-bold text-right text-danger" autocomplete="off" min="0" placeholder="0" value="1">
                                                        </td>
                                                        <td class="text-right" style="width:100px; padding:1px !important;">
                                                            <input type="text" id="R11CRA" class="form-control money font-weight-bold text-right text-danger" autocomplete="off" min="0" placeholder="0,00" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 11 && x.Currency == defaultCurrency)?.Amount?.ToString("N2"))">
                                                        </td>
                                                        <td style="padding:1px !important;">
                                                            <input type="text" id="R11CRD" class="form-control" autocomplete="off" placeholder="" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 11 && x.Currency == defaultCurrency)?.Description)" />
                                                        </td>
                                                        <td class="text-center" style="width:50px; padding:1px !important;">
                                                            <a href="#" class="text-primary" onclick="return confirm('Eklemek istediğinize emin misiniz ?') ? AddCardRefund(@Model.CurrentDayResult.ID,'@(defaultCurrency)'):false;">
                                                                <i data-feather="plus-square"></i>
                                                            </a>
                                                        </td>
                                                    </tr>
                                                </tbody>


                                            </table>
                                        </div>
                                        <div class="card-body pd-0" id="CardSale">
                                            @{ Html.RenderPartial("_PartialCardSale", Model); }
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-12 mg-t-10 pd-r-0 pd-l-0 pd-t-0">
                                    <div class="card ht-100p">
                                        <div class="card-header d-flex align-items-center justify-content-between">
                                            <h6 class="mg-b-0">Nakit Tahsilat / Ödeme İşlemleri</h6>
                                            <div class="d-flex tx-18">
                                                @*<a href="" class="link-03 lh-0"><i class="icon ion-md-refresh"></i></a>
                                                <a href="" class="link-03 lh-0 mg-l-10"><i class="icon ion-md-more"></i></a>*@
                                            </div>
                                        </div>
                                        <div class="table-responsive">
                                            <table class="table table-hover mg-b-0">
                                                <thead class="bg-gray-100">
                                                    <tr>
                                                        <th>&nbsp;</th>
                                                        <th colspan="3" class="bd-l text-center font-weight-bold"><span>(1) Kasa Tahsilatı</span></th>
                                                        <th colspan="3" class="bd-l text-center font-weight-bold"><span>(4) Kasa Ödemesi</span></th>
                                                    </tr>
                                                    <tr>
                                                        <th><span></span></th>
                                                        <th class="bd-l text-right"><span>Tutar</span></th>
                                                        <th class="text-center"><span>Açıklama</span></th>
                                                        <th></th>
                                                        <th class="bd-l text-right"><span>Tutar</span></th>
                                                        <th class="text-center"><span>Açıklama</span></th>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    @if (Model.Authentication.ActionEmployee.OurCompanyID == 1)
                                                    {
                                                        <tr>
                                                            <td>USD ($)</td>
                                                            <td class="bd-l text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="T1USD" class="form-control money font-weight-bold text-right text-info" autocomplete="off" min="0" placeholder="0,00" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 1 && x.Currency == "USD")?.Amount.Value.ToString("N2"))">
                                                            </td>
                                                            <td style="padding:1px !important;">
                                                                <input type="text" id="T1DUSD" class="form-control" autocomplete="off" placeholder="" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 1 && x.Currency == "USD")?.Description)" />
                                                            </td>
                                                            <td class="text-center" style="width:50px; padding:1px !important;">
                                                                <a href="#" class="text-primary" onclick="return confirm('Eklemek istediğinize emin misiniz ?') ? AddCollect(@Model.CurrentDayResult.ID,@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 1 && x.Currency == "USD")?.ID),'USD'):false;">
                                                                    <i data-feather="plus-square"></i>
                                                                </a>
                                                            </td>
                                                            <td class="bd-l text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="T4USD" class="form-control money font-weight-bold text-right text-danger" autocomplete="off" min="0" placeholder="0,00" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 4 && x.Currency == "USD")?.Amount?.ToString("N2"))">
                                                            </td>
                                                            <td style="padding:1px !important;">
                                                                <input type="text" id="T4DUSD" class="form-control" autocomplete="off" placeholder="" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 4 && x.Currency == "USD")?.Description)" />
                                                            </td>
                                                            <td class="text-center" style="width:50px; padding:1px !important;">
                                                                <a href="#" class="text-primary" onclick="return confirm('Eklemek istediğinize emin misiniz ?') ? AddPayment(@Model.CurrentDayResult.ID,@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 4 && x.Currency == "USD")?.ID),'USD'):false;">
                                                                    <i data-feather="plus-square"></i>
                                                                </a>
                                                            </td>
                                                        </tr>
                                                    }
                                                    else
                                                    {
                                                        <tr>
                                                            <td style="width:100px;"><strong>TRL (₺)</strong></td>
                                                            <td class="bd-l text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="T1TRL" class="form-control money font-weight-bold text-right text-info" autocomplete="off" min="0" placeholder="0,00" value="0,00)">
                                                            </td>
                                                            <td style="padding:1px !important;">
                                                                <input type="text" id="T1DTRL" class="form-control" autocomplete="off" placeholder="" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 1 && x.Currency == "TRL")?.Description)" />
                                                            </td>
                                                            <td class="text-center" style="width:50px; padding:1px !important;">
                                                                <a href="#" class="text-primary" onclick="return confirm('Eklemek istediğinize emin misiniz ?') ? AddCollect(@Model.CurrentDayResult.ID,@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 1 && x.Currency == "TRL")?.ID),'TRL'):false;">
                                                                    <i data-feather="plus-square"></i>
                                                                </a>
                                                            </td>
                                                            <td class="bd-l  text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="T4TRL" class="form-control money font-weight-bold text-right text-danger" autocomplete="off" min="0" placeholder="0,00" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 4 && x.Currency == "TRL").Amount?.ToString("N2"))">
                                                            </td>
                                                            <td style="padding:1px !important;">
                                                                <input type="text" id="T4DTRL" class="form-control" autocomplete="off" placeholder="" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 4 && x.Currency == "TRL")?.Description)" />
                                                            </td>
                                                            <td class="text-center" style="width:50px; padding:1px !important;">
                                                                <a href="#" class="text-primary" onclick="return confirm('Eklemek istediğinize emin misiniz ?') ? AddPayment(@Model.CurrentDayResult.ID,@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 4 && x.Currency == "TRL")?.ID),'TRL'):false;">
                                                                    <i data-feather="plus-square"></i>
                                                                </a>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>USD ($)</td>
                                                            <td class="bd-l text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="T1USD" class="form-control money font-weight-bold text-right text-info" autocomplete="off" min="0" placeholder="0,00" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 1 && x.Currency == "USD")?.Amount?.ToString("N2"))">
                                                            </td>
                                                            <td style="padding:1px !important;">
                                                                <input type="text" id="T1DUSD" class="form-control" autocomplete="off" placeholder="" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 1 && x.Currency == "USD")?.Description)" />
                                                            </td>
                                                            <td class="text-center" style="width:50px; padding:1px !important;">
                                                                <a href="#" class="text-primary" onclick="return confirm('Eklemek istediğinize emin misiniz ?') ? AddCollect(@Model.CurrentDayResult.ID,@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 1 && x.Currency == "USD")?.ID),'USD'):false;">
                                                                    <i data-feather="plus-square"></i>
                                                                </a>
                                                            </td>
                                                            <td class="bd-l text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="T4USD" class="form-control money font-weight-bold text-right text-danger" autocomplete="off" min="0" placeholder="0,00" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 4 && x.Currency == "USD")?.Amount?.ToString("N2"))">
                                                            </td>
                                                            <td style="padding:1px !important;">
                                                                <input type="text" id="T4DUSD" class="form-control" autocomplete="off" placeholder="" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 4 && x.Currency == "USD")?.Description)" />
                                                            </td>
                                                            <td class="text-center" style="width:50px; padding:1px !important;">
                                                                <a href="#" class="text-primary" onclick="return confirm('Eklemek istediğinize emin misiniz ?') ? AddPayment(@Model.CurrentDayResult.ID,@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 4 && x.Currency == "USD")?.ID),'USD'):false;">
                                                                    <i data-feather="plus-square"></i>
                                                                </a>
                                                            </td>
                                                        </tr>
                                                        <tr>

                                                            <td>EUR (€)</td>
                                                            <td class="bd-l text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="T1EUR" class="form-control money font-weight-bold text-right text-info" autocomplete="off" min="0" placeholder="0,00" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 1 && x.Currency == "EUR")?.Amount?.ToString("N2"))">
                                                            </td>
                                                            <td style="padding:1px !important;">
                                                                <input type="text" id="T1DEUR" class="form-control" autocomplete="off" placeholder="" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 1 && x.Currency == "EUR")?.Description)" />
                                                            </td>
                                                            <td class="text-center" style="width:50px; padding:1px !important;">
                                                                <a href="#" class="text-primary" onclick="return confirm('Eklemek istediğinize emin misiniz ?') ? AddCollect(@Model.CurrentDayResult.ID,@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 1 && x.Currency == "EUR")?.ID),'EUR'):false;">
                                                                    <i data-feather="plus-square"></i>
                                                                </a>
                                                            </td>
                                                            <td class="bd-l" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="T4EUR" class="form-control money font-weight-bold text-right text-danger" autocomplete="off" min="0" placeholder="0,00" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 4 && x.Currency == "EUR").Amount?.ToString("N2"))">
                                                            </td>
                                                            <td style="padding:1px !important;">
                                                                <input type="text" id="T4DEUR" class="form-control" autocomplete="off" placeholder="" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 4 && x.Currency == "EUR")?.Description)" />
                                                            </td>
                                                            <td class="text-center" style="width:50px; padding:1px !important;">
                                                                <a href="#" class="text-primary" onclick="return confirm('Eklemek istediğinize emin misiniz ?') ? AddPayment(@Model.CurrentDayResult.ID,@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 4 && x.Currency == "EUR")?.ID),'EUR'):false;">
                                                                    <i data-feather="plus-square"></i>
                                                                </a>
                                                            </td>
                                                        </tr>
                                                    }
                                                </tbody>

                                            </table>
                                        </div>
                                        <div class="card-body pd-0" id="CashCollectPayment">
                                            @{Html.RenderPartial("_PartialCashCollectPayment", Model);}
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-12 mg-t-10 pd-r-0 pd-l-0 pd-t-0">
                                    <div class="card ht-100p">
                                        <div class="card-header d-flex align-items-center justify-content-between">
                                            <h6 class="mg-b-0">Döviz Satış İşlemleri</h6>
                                            <div class="d-flex tx-18">
                                                @*<a href="" class="link-03 lh-0"><i class="icon ion-md-refresh"></i></a>
                                                <a href="" class="link-03 lh-0 mg-l-10"><i class="icon ion-md-more"></i></a>*@
                                            </div>
                                        </div>
                                        <div class="table-responsive">
                                            <table class="table table-hover mg-b-0">
                                                <thead class="bg-gray-100">
                                                    <tr>
                                                        <th>&nbsp;</th>
                                                        <th colspan="10" class="text-center font-weight-bold"><span>(3) Döviz Satışı</span></th>
                                                    </tr>
                                                    <tr>
                                                        <th><span></span></th>
                                                        <th><span></span>Fiş No</th>
                                                        <th><span></span>Fiş Tarihi</th>
                                                        <th><span></span>Fiş Saati</th>
                                                        <th class="text-right"><span>Döviz Tutar</span></th>
                                                        <th class="text-right"><span>Kur</span></th>
                                                        <th class=""><span>Döviz</span></th>
                                                        <th class="text-right"><span>TRL Tutar</span></th>
                                                        <th class=""><span>Döviz Fişi</span></th>
                                                        <th class="text-center"><span>Açıklama</span></th>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    @if (Model.Authentication.ActionEmployee.OurCompanyID == 1)
                                                    {
                                                        <tr>
                                                            <td style="width:100px;"><strong>EUR (€)</strong></td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="SlipNumberEUR" class="form-control font-weight-bold">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="SlipDateEUR" class="form-control font-weight-bold shiftdate" value="@(Model.CurrentDayResult.Date.ToString("yyyy-MM-dd") )">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="SlipTimeEUR" class="form-control font-weight-bold hourfull" value="@(Model.CurrentDayResult.Date.ToString("HH\\:mm\\:ss") )">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="E3AEUR" class="form-control money font-weight-bold text-right tx-info" autocomplete="off" min="0" placeholder="0,00" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 3 && x.Currency == "EUR")?.Amount?.ToString("N2"))">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="E3EEUR" class="form-control money4 font-weight-bold text-right" autocomplete="off" min="0" placeholder="0,0000" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 3 && x.Currency == "EUR")?.Exchange?.ToString("N4"))">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="E3CEUR" class="form-control" autocomplete="off" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 3 && x.Currency == "EUR")?.Currency)" readonly />
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="E3SEUR" class="form-control money font-weight-bold text-right tx-info" autocomplete="off" min="0" placeholder="0,00" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 3 && x.Currency == "EUR")?.SystemAmount?.ToString("N2"))" readonly>
                                                            </td>
                                                            <td style="width:200px; padding:1px !important;">
                                                                <input id="E3FEUR" class="form-control" type="file" />
                                                            </td>
                                                            <td class="bd-l  text-right" style="padding:1px !important;">
                                                                <input type="text" id="E3DEUR" class="form-control" autocomplete="off" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 3 && x.Currency == "EUR")?.Description)">
                                                            </td>
                                                            <td class="text-center" style="width:50px; padding:1px !important;">
                                                                <a href="#" class="text-primary" onclick="return confirm('Eklemek istediğinize emin misiniz ?') ? AddExchange(@Model.CurrentDayResult.ID,@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 3 && x.Currency == "EUR")?.ID),'EUR'):false;">
                                                                    <i data-feather="plus-square"></i>
                                                                </a>
                                                            </td>
                                                        </tr>
                                                    }
                                                    else
                                                    {
                                                        <tr>
                                                            <td style="width:100px;"><strong>USD ($)</strong></td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="SlipNumberUSD" class="form-control font-weight-bold">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="SlipDateUSD" class="form-control font-weight-bold shiftdate" value="@(Model.CurrentDayResult.Date.ToString("yyyy-MM-dd") )">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="SlipTimeUSD" class="form-control font-weight-bold hourfull" value="@(Model.CurrentDayResult.Date.ToString("HH\\:mm\\:ss") )">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="E3AUSD" class="form-control money font-weight-bold text-right tx-info" autocomplete="off" min="0" placeholder="0,00" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 3 && x.Currency == "USD")?.Amount?.ToString("N2"))">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="E3EUSD" class="form-control money4 font-weight-bold text-right" autocomplete="off" min="0" placeholder="0,0000" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 3 && x.Currency == "USD")?.Exchange?.ToString("N4"))">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="E3CUSD" class="form-control" autocomplete="off" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 3 && x.Currency == "USD").Currency)" readonly />
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="E3SUSD" class="form-control money font-weight-bold text-right tx-info" autocomplete="off" min="0" placeholder="0,00" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 3 && x.Currency == "USD")?.SystemAmount?.ToString("N2"))" readonly>
                                                            </td>
                                                            <td style="width:200px; padding:1px !important;">
                                                                <input id="E3FUSD" class="form-control" type="file" />
                                                            </td>
                                                            <td class="bd-l  text-right" style="padding:1px !important;">
                                                                <input type="text" id="E3DUSD" class="form-control" autocomplete="off" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 3 && x.Currency == "USD")?.Description)">
                                                            </td>
                                                            <td class="text-center" style="width:50px; padding:1px !important;">
                                                                <a href="#" class="text-primary" onclick="return confirm('Eklemek istediğinize emin misiniz ?') ? AddExchange(@Model.CurrentDayResult.ID,@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 3 && x.Currency == "USD")?.ID),'USD'):false;">
                                                                    <i data-feather="plus-square"></i>
                                                                </a>
                                                            </td>

                                                        </tr>

                                                        <tr>
                                                            <td style="width:100px;"><strong>EUR (€)</strong></td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="SlipNumberEUR" class="form-control font-weight-bold">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="SlipDateEUR" class="form-control font-weight-bold shiftdate" value="@(Model.CurrentDayResult.Date.ToString("yyyy-MM-dd") )">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="SlipTimeEUR" class="form-control font-weight-bold hourfull" value="@(Model.CurrentDayResult.Date.ToString("HH\\:mm\\:ss") )">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="E3AEUR" class="form-control money font-weight-bold text-right tx-info" autocomplete="off" min="0" placeholder="0,00" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 3 && x.Currency == "EUR")?.Amount?.ToString("N2"))">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="E3EEUR" class="form-control money4 font-weight-bold text-right" autocomplete="off" min="0" placeholder="0,0000" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 3 && x.Currency == "EUR")?.Exchange?.ToString("N4"))">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="E3CEUR" class="form-control" autocomplete="off" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 3 && x.Currency == "EUR").Currency)" readonly />
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="E3SEUR" class="form-control money font-weight-bold text-right tx-info" autocomplete="off" min="0" placeholder="0,00" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 3 && x.Currency == "EUR")?.SystemAmount?.ToString("N2"))" readonly>
                                                            </td>
                                                            <td style="width:200px; padding:1px !important;">
                                                                <input id="E3FEUR" class="form-control" type="file" />
                                                            </td>
                                                            <td class="bd-l  text-right" style="padding:1px !important;">
                                                                <input type="text" id="E3DEUR" class="form-control" autocomplete="off" value="@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 3 && x.Currency == "EUR")?.Description)">
                                                            </td>
                                                            <td class="text-center" style="width:50px; padding:1px !important;">
                                                                <a href="#" class="text-primary" onclick="return confirm('Eklemek istediğinize emin misiniz ?') ? AddExchange(@Model.CurrentDayResult.ID,@(Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 3 && x.Currency == "EUR")?.ID),'EUR'):false;">
                                                                    <i data-feather="plus-square"></i>
                                                                </a>
                                                            </td>
                                                        </tr>
                                                    }
                                                </tbody>


                                            </table>
                                        </div>
                                        <div class="card-body pd-0" id="AddExchange">
                                            @{Html.RenderPartial("_PartialExchange", Model);}
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-12 mg-t-10 pd-r-0 pd-l-0 pd-t-0">
                                    <div class="card ht-100p">
                                        <div class="card-header d-flex align-items-center justify-content-between">
                                            <h6 class="mg-b-0">Masraflar</h6>
                                            <div class="d-flex tx-18">
                                                @*<a href="" class="link-03 lh-0"><i class="icon ion-md-refresh"></i></a>
                                                <a href="" class="link-03 lh-0 mg-l-10"><i class="icon ion-md-more"></i></a>*@
                                            </div>
                                        </div>
                                        <div class="table-responsive">
                                            <table class="table table-hover mg-b-0">
                                                <thead class="bg-gray-100">
                                                    <tr>
                                                        <th>&nbsp;</th>
                                                        <th colspan="9" class="text-center font-weight-bold"><span>(6) Masraf Detayı</span></th>
                                                    </tr>
                                                    <tr>
                                                        <th><span></span></th>
                                                        <th><span>Türü</span></th>
                                                        <th class="text-right"><span>Tutar</span></th>
                                                        <th class=""><span>Para</span></th>
                                                        <th><span>Fiş No</span></th>
                                                        <th><span>Fiş Tarihi</span></th>
                                                        <th><span>Fiş Saati</span></th>
                                                        <th><span>Masraf Fişi</span></th>
                                                        <th><span>Açıklama</span></th>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    @foreach (var item in Model.DayResultItemList.Where(x => x.ResultItemID == 6).ToList())
                                                    {
                                                        <tr>
                                                            <td style="width:100px;"><strong>@item.ID</strong></td>

                                                            @*<td class="text-right" style="width:60px; padding:1px !important;">
                                                                    <input type="text" id="E6TRLQ@(item.ID)" class="form-control font-weight-bold text-right tx-info" min="0" placeholder="0" value="@(item.Quantity)">
                                                                </td>*@
                                                            <td style="width:160px; padding:1px !important;">
                                                                <select class="form-control" id="ExpenseTypeID@(item.ID)" name="ExpenseTypeID" required>
                                                                    @foreach (var exptype in Model.ExpenseTypes.OrderBy(x => x.SortBy))
                                                                    {
                                                                        <option value="@exptype.ID" @(exptype.ID == 7 ? "selected" : "")>@($"{exptype.ExpenseName}")</option>
                                                                    }
                                                                </select>
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="E6TRLA@(item.ID)" class="form-control money font-weight-bold text-right" min="0" placeholder="0,00" value="@(item.Amount?.ToString("N2"))">
                                                            </td>


                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="E6TRLC@(item.ID)" class="form-control" value="@(item.Currency)" readonly />
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="E6TRLN@(item.ID)" class="form-control font-weight-bold" value="@(item.SlipNumber)">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="SlipDate@(item.ID)" class="form-control font-weight-bold shiftdate" value="@(item.SlipDate != null ? item.SlipDate?.ToString("yyyy-MM-dd") :Model.CurrentDayResult.Date.ToString("yyyy-MM-dd") )">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="SlipTime@(item.ID)" class="form-control font-weight-bold hourfull" value="@(item.SlipDate != null ? item.SlipDate?.TimeOfDay.ToString("HH\\:mm\\:ss") :Model.CurrentDayResult.Date.ToString("HH\\:mm\\:ss") )">
                                                            </td>
                                                            <td style="width:200px; padding:1px !important;">
                                                                <input id="E7TRLF@(item.ID)" class="form-control" type="file" />
                                                            </td>
                                                            <td class="bd-l  text-right" style="padding:1px !important;">
                                                                <input type="text" id="E6TRLDE@(item.ID)" class="form-control" value="@(item.Description)">
                                                            </td>
                                                            <td class="text-center" style="width:50px; padding:1px !important;">
                                                                <a href="#" class="text-primary" onclick="return confirm('Eklemek istediğinize emin misiniz ?') ? AddExpense(@Model.CurrentDayResult.ID,@item.ID):false;">
                                                                    <i data-feather="plus-square"></i>
                                                                </a>
                                                            </td>
                                                        </tr>
                                                    }




                                                </tbody>


                                            </table>
                                        </div>
                                        <div class="card-body pd-0" id="AddExpense">
                                            @{Html.RenderPartial("_PartialExpence", Model);}
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-12 mg-t-10 pd-r-0 pd-l-0 pd-t-0">
                                    <div class="card ht-100p">
                                        <div class="card-header d-flex align-items-center justify-content-between">
                                            <h6 class="mg-b-0">Havale / EFT</h6>
                                            <div class="d-flex tx-18">
                                                @*<a href="" class="link-03 lh-0"><i class="icon ion-md-refresh"></i></a>
                                                <a href="" class="link-03 lh-0 mg-l-10"><i class="icon ion-md-more"></i></a>*@
                                            </div>
                                        </div>
                                        <div class="table-responsive">
                                            <table class="table table-hover mg-b-0">
                                                <thead class="bg-gray-100">
                                                    <tr>
                                                        <th colspan="9" class="text-center font-weight-bold"><span>(7) Havale EFT Bildirimi</span></th>
                                                    </tr>
                                                    <tr>
                                                        <th><span>Banka Hesabı</span></th>

                                                        <th class="text-right"><span>Tutar</span></th>
                                                        <th class="text-right"><span>Komisyon</span></th>

                                                        <th><span>Dekont No</span></th>
                                                        <th><span>Dekont Tarihi</span></th>
                                                        <th><span>Dekont Saati</span></th>
                                                        <th><span>Dekont</span></th>
                                                        <th><span>Açıklama</span></th>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    @foreach (var item in Model.DayResultItemList.Where(x => x.ResultItemID == 7).ToList())
                                                    {
                                                        <tr>
                                                            <td style="width:240px; padding:1px !important;">
                                                                <select class="form-control" id="BankAccountID@(item.ID)" name="BankAccountID" required>
                                                                    @foreach (var bank in Model.BankAccountList.Where(x => x.AccountTypeID == 1))
                                                                    {
                                                                        <option value="@bank.ID" @(item.BankAccountID == bank.ID ? "selected" : "")>@($"{bank.BranchName} ({bank.Currency})")</option>
                                                                    }
                                                                </select>
                                                            </td>

                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="E7TRLA@(item.ID)" class="form-control money font-weight-bold text-right tx-info" autocomplete="off" min="0" placeholder="0,00" value="@(item.Amount?.ToString("N2"))">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="E7TRLCO@(item.ID)" class="form-control money font-weight-bold text-right tx-info" autocomplete="off" min="0" placeholder="0,00" value="0,00">
                                                            </td>

                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="E7TRLN@(item.ID)" class="form-control font-weight-bold" autocomplete="off" value="@(item.SlipNumber)">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="E7TRLD@(item.ID)" name="E7TRLD" class="form-control font-weight-bold shiftdate" autocomplete="off" value="@(item.SlipDate != null ? item.SlipDate?.ToString("yyyy-MM-dd") :Model.CurrentDayResult.Date.ToString("yyyy-MM-dd") )">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="E7TRLR@(item.ID)" class="form-control font-weight-bold hourfull" autocomplete="off" value="@(item.SlipDate != null ? item.SlipDate?.TimeOfDay.ToString("HH\\:mm\\:00") :Model.CurrentDayResult.Date.ToString("00:00:00") )">
                                                            </td>
                                                            <td style="width:200px; padding:1px !important;">
                                                                <input id="E7TRLF@(item.ID)" class="form-control" type="file" />
                                                            </td>
                                                            <td class="text-right" style="padding:1px !important;">
                                                                <input type="text" id="E7TRLDE@(item.ID)" class="form-control" autocomplete="off" value="@(item.Description)">
                                                            </td>
                                                            <td class="text-center" style="width:50px; padding:1px !important;">
                                                                <a href="#" class="text-primary" onclick="return confirm('Eklemek istediğinize emin misiniz ?') ? AddBankTransfer(@Model.CurrentDayResult.ID,@item.ID):false;">
                                                                    <i data-feather="plus-square"></i>
                                                                </a>
                                                            </td>
                                                        </tr>
                                                    }
                                                </tbody>


                                            </table>
                                        </div>
                                        <div class="card-body pd-0" id="BankTransfer">
                                            @{Html.RenderPartial("_PartialBankTransfer", Model);}
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-12 mg-t-10 pd-r-0 pd-l-0 pd-t-0">
                                    <div class="card ht-100p">
                                        <div class="card-header d-flex align-items-center justify-content-between">
                                            <h6 class="mg-b-0">Ücret Hakediş / Ödeme İşlemleri</h6>
                                            <div class="d-flex tx-18">

                                                <a class="link-03 tx-12" id="Loading" style="display:none;">
                                                    Yükleniyor... &nbsp;&nbsp;
                                                </a>
                                                <a href="/Result/RecalculateSalary?LocationID=@(Model.CurrentLocation.LocationID)&Date=@(Model.CurrentDate.DateKey.ToString("yyyy-MM-dd"))&UID=@(Model.CurrentDayResult.UID.Value.ToString())" class="link-03 lh-0"><i class="icon ion-md-refresh"></i></a>
                                                @*<a href="" class="link-03 lh-0 mg-l-10"><i class="icon ion-md-more"></i></a>*@
                                            </div>
                                        </div>
                                        <div class="table-responsive">
                                            <table class="table table-hover  mg-b-0">
                                                <thead class="bg-gray-100">
                                                    <tr>
                                                        <th></th>
                                                        <th colspan="5" class=" bd-l text-center font-weight-bold">(8) Lokasyon Maaş Hakediş Hesabı</th>
                                                        <th colspan="3" class=" bd-l text-center font-weight-bold">(9) Maaş Avansı Ödeme</th>
                                                    </tr>
                                                    <tr>
                                                        <th class="wd-150-f">Adı Soyadı</th>

                                                        <th class=" bd-l">Süre</th>
                                                        <th class="text-right"><span>@(Model.CurrentLocation.Currency)/Saat</span></th>
                                                        <th class="text-right"><span>Hakediş (@(Model.CurrentLocation.Currency))</span></th>
                                                        <th class="text-center">Açıklama</th>
                                                        <th></th>

                                                        <th class="text-right bd-l"><span>Ödeme (@(Model.CurrentLocation.Currency))</span></th>
                                                        <th class="text-center">Açıklama</th>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    @foreach (var emp in Model.DayResultItemList.Where(x => x.ResultItemID == 8 || x.ResultItemID == 9).Select(x => x.EmployeeID).Distinct().ToList())
                                                    {
                                                        var salary = Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 8 && x.EmployeeID == emp);
                                                        var payment = Model.DayResultItemList.FirstOrDefault(x => x.ResultItemID == 9 && x.EmployeeID == emp);

                                                        <tr>
                                                            <td>
                                                                <input id="salaryID" type="hidden" value="@salary.ID" />
                                                                <input id="paymentID" type="hidden" value="@payment.ID" />
                                                                <input id="S8TYPEID@(emp)" type="hidden" value="32" />
                                                                <input id="S9TYPEID@(emp)" type="hidden" value="31" />
                                                                <strong> @salary.FullName</strong>
                                                            </td>


                                                            <td class="bd-l" style="width:60px; padding:1px !important;">
                                                                <input type="text" id="S8SD@(emp)" class="form-control hour font-weight-bold" autocomplete="off" placeholder="00:00" value="@(salary.Duration != null ? salary.Duration.Value.ToString("hh\\:mm"):"00:00")" readonly />
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="S8SU@(emp)" class="form-control money text-right" autocomplete="off" placeholder="0,00" value="@(salary.UnitHourPrice?.ToString("N2"))" readonly />
                                                            </td>
                                                            <td class="text-right" style="width:120px; padding:1px !important;">
                                                                <input type="text" id="S8ST@(emp)" class="form-control money text-right  font-weight-bold text-info" autocomplete="off" placeholder="0,00" value="@((salary.UnitHourPrice * salary.HourQuantity)?.ToString("N2"))" readonly />
                                                            </td>
                                                            <td class="table-light" style="padding:1px !important;">
                                                                <input type="text" id="S8SDE@(emp)" class="form-control" autocomplete="off" placeholder="" value="@(salary.Description)" />
                                                            </td>
                                                            <td class="text-center" style="width:50px; padding:1px !important;">
                                                                <a href="#" class="text-primary" onclick="return confirm('Eklemek istediğinize emin misiniz ?') ? AddSalaryEarn(@Model.CurrentDayResult.ID,@salary.ID, @emp):false;">
                                                                    <i data-feather="refresh-ccw"></i>
                                                                </a>
                                                            </td>
                                                            <td class="bd-l" style="width:120px; padding:1px !important;">
                                                                <input type="text" id="S9PAMOUNT@(emp)" class="form-control money text-right font-weight-bold text-danger" autocomplete="off" placeholder="0,00" value="@(payment.Amount?.ToString("N2"))" />
                                                            </td>
                                                            <td class="" style="padding:1px !important;">
                                                                <input type="text" id="S9PDESC@(emp)" class="form-control" autocomplete="off" placeholder="" value="@(payment.Description)" />
                                                            </td>
                                                            <td class="text-center" style="width:50px; padding:1px !important;">
                                                                <a href="#" class="text-primary" onclick="return confirm('Eklemek istediğinize emin misiniz ?') ? AddSalaryPayment(@Model.CurrentDayResult.ID, @payment.ID, @emp):false;">
                                                                    <i data-feather="plus-square"></i>
                                                                </a>
                                                            </td>
                                                        </tr>
                                                    }

                                                </tbody>

                                            </table>
                                        </div>
                                        <div class="card-body pd-0" id="EmployeeSalary">
                                            @{Html.RenderPartial("_PartialEmployeeSalary", Model);}
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-12 mg-t-10 pd-r-0 pd-l-0 pd-t-0">
                                    <div class="card ht-100p">
                                        <div class="card-header d-flex align-items-center justify-content-between">
                                            <h6 class="mg-b-0">Yazarkasa</h6>
                                            <div class="d-flex tx-18">
                                                @*<a href="" class="link-03 lh-0"><i class="icon ion-md-refresh"></i></a>
                                                <a href="" class="link-03 lh-0 mg-l-10"><i class="icon ion-md-more"></i></a>*@
                                            </div>
                                        </div>
                                        <div class="table-responsive">
                                            <table class="table table-hover mg-b-0">
                                                <thead class="bg-gray-100">
                                                    <tr>
                                                        <th colspan="10" class="text-center font-weight-bold"><span>(13) Yazarkasa Fişi Bildirimi</span></th>
                                                    </tr>
                                                    <tr>
                                                        <th><span>Z Rapor No</span></th>
                                                        <th><span>Fiş Tarihi</span></th>
                                                        <th><span>Fiş Saati</span></th>
                                                        <th class="text-right"><span>Nakit</span></th>
                                                        <th class="text-right"><span>Kredi</span></th>
                                                        <th class="text-right"><span>Fiş Tutarı</span></th>
                                                        <th class="text-right"><span>Genel Tutar</span></th>
                                                        <th><span>Yazarkasa Fişi</span></th>
                                                        <th><span>Açıklama</span></th>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    @foreach (var cr in Model.DayResultItemList.Where(x => x.ResultItemID == 13))
                                                    {
                                                        <tr>
                                                            <td style="width:120px; padding:1px !important;">
                                                                <input type="text" id="E13TRLN" name="E13TRLN" class="form-control font-weight-bold" autocomplete="off" value="@(cr.SlipNumber)">
                                                                <input id="E13TYPEID" type="hidden" value="33" />
                                                            </td>
                                                            <td style="width:120px; padding:1px !important;">
                                                                <input type="text" id="E13TRLD" name="E13TRLD" class="form-control shiftdate font-weight-bold" autocomplete="off" value="@(cr.Date != null ? cr.Date.Value.ToString("yyyy-MM-dd") : Model.CurrentDate.DateKey.ToString("yyyy-MM-dd"))">
                                                            </td>
                                                            <td style="width:100px; padding:1px !important;">
                                                                <input type="text" id="E13TRLT" name="E13TRLT" class="form-control hourfull font-weight-bold" autocomplete="off" value="@(cr.SlipDate != null ? cr.SlipDate.Value.TimeOfDay.ToString() : Model.CurrentDayResult.Date.TimeOfDay.ToString())">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="E13TRLNA" name="E13TRLNA" class="form-control money font-weight-bold text-right" onkeyup="SumCashRecorder()" autocomplete="off" min="0" placeholder="0,00" value="0,00">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="E13TRLKA" name="E13TRLKA" class="form-control money font-weight-bold text-right" onkeyup="SumCashRecorder()" autocomplete="off" min="0" placeholder="0,00" value="0,00">
                                                            </td>
                                                            <td class="text-right" style="width:100px; padding:1px !important;">
                                                                <input type="text" id="E13TRLA" name="E13TRLA" class="form-control money font-weight-bold text-right" autocomplete="off" min="0" placeholder="0,00" value="@(cr.Amount?.ToString("N2"))">
                                                            </td>
                                                            <td class="text-right" style="width:140px; padding:1px !important;">
                                                                <input type="text" id="E13TRLTA" name="E13TRLTA" class="form-control money font-weight-bold text-right" autocomplete="off" min="0" placeholder="0,00" value="@(cr.SlipTotalAmount?.ToString("N2"))">
                                                            </td>
                                                            <td style="width:200px; padding:1px !important;">
                                                                <input id="E13TRLF" name="E13TRLF" class="form-control" type="file" />
                                                            </td>
                                                            <td style="padding:1px !important;">
                                                                <input type="text" id="E13TRLDE" name="E13TRLDE" class="form-control" autocomplete="off" value="@(cr.Description)">
                                                            </td>

                                                            <td class="text-center" style="width:50px; padding:1px !important;">
                                                                <a href="#" class="text-primary" onclick="return confirm('Eklemek istediğinize emin misiniz ?') ? AddCashRecorder(@Model.CurrentDayResult.ID):false;">
                                                                    <i data-feather="plus-square"></i>
                                                                </a>
                                                            </td>
                                                        </tr>
                                                    }
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="card-body pd-0" id="CashRecorder">
                                            @{Html.RenderPartial("_PartialCashRecorder", Model);}
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-12 mg-t-10 pd-r-0 pd-l-0 pd-t-0">
                                    <div class="card ht-100p">
                                        <div class="card-header d-flex align-items-center justify-content-between">
                                            <h6 class="mg-b-0">Dosyalar </h6>
                                            <div class="d-flex tx-18">
                                                @*<a href="" class="link-03 lh-0"><i class="icon ion-md-refresh"></i></a>
                                                <a href="" class="link-03 lh-0 mg-l-10"><i class="icon ion-md-more"></i></a>*@
                                            </div>
                                        </div>
                                        <div class="table-responsive">
                                            <table class="table table-hover mg-b-0">
                                                <thead class="bg-gray-100">
                                                    <tr>
                                                        <th colspan="4" class="text-center font-weight-bold"><span>(14) Gün Sonu Dosyaları</span></th>
                                                    </tr>
                                                    <tr>
                                                        <th><span>Dosya Türü</span></th>
                                                        <th><span>Dosya</span></th>
                                                        <th><span>Açıklama</span></th>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                                <tbody>

                                                    <tr>

                                                        <td style="width:240px; padding:1px !important;">
                                                            <select class="form-control" id="FileTypeID" name="FileTypeID" required>
                                                                @foreach (var doc in Model.DocumentTypes)
                                                                {
                                                                    <option value="@doc.TypeID">@($"{doc.TypeName}")</option>
                                                                }
                                                            </select>
                                                        </td>
                                                        <td style="width:200px; padding:1px !important;">
                                                            <input id="ResultFile" name="ResultFile" class="form-control" type="file" />
                                                        </td>
                                                        <td style="padding:1px !important;">
                                                            <input type="text" id="FileDescription" name="FileDescription" autocomplete="off" class="form-control">
                                                        </td>
                                                        <td class="text-center" style="width:50px; padding:1px !important;">
                                                            <a href="#" class="text-primary" onclick="return confirm('Eklemek istediğinize emin misiniz ?') ? AddResultDocument(@Model.CurrentDayResult.ID):false;">
                                                                <i data-feather="plus-square"></i>
                                                            </a>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="card-body pd-0" id="ResultFiles">
                                            @{Html.RenderPartial("_PartialResultFiles", Model);}
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div class="col-md-3 pd-r-0 pd-l-0 pd-t-0">
                                <div class="col-md-12 mg-t-10 pd-r-0 pd-l-0 pd-t-0" id="ResultSummary">
                                    @{Html.RenderPartial("_PartialResultSummary", Model);}
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card-footer bg-transparent pd-y-10 pd-sm-y-15 pd-x-10 pd-sm-x-20">
                        <nav class="nav nav-with-icon tx-13">
                            @*<a href="/Result/ExportToExcel" class="nav-link"><i data-feather="download"></i> Excel Olarak İndir</a>*@
                        </nav>
                    </div><!-- card-footer -->
                </div>

                <footer class="content-footer">
                    <div>
                        <span>&copy; @DateTime.Now.Year UFE Group LLC </span>
                    </div>

                </footer>

            </div>

        </div>
    </div>
</div>


@section canvasmenu {

}

@section scripts {

    <script>
        $(function () {
            'use strict'

            $("body").addClass("page-profile");

            $('#DatePicker').datepicker({
                showOtherMonths: true,
                selectOtherMonths: true,
                dateFormat: "yy-mm-dd",
                dayNamesMin: ["Pz", "Pt", "Sa", "Ca", "Pe", "Cu", "Ct"],
                monthNames: ["Ocak", "Şubat", "Mart", "Nisan", "Mayıs", "Haziran", "Temmuz", "Ağustos", "Eylül", "Ekim", "Kasım", "Aralık"],
                firstDay: 1,
                onSelect: function (dateText, inst) {
                    window.location.href = "/Result/Detail?date=" + dateText + "&locationID="+@Model.CurrentLocation.LocationID;
                },
                beforeShow: function (event, ui) {
                    var $link = $("#LocationResultDate");
                    ui.dpDiv.offset({
                        top: $link.offset().top + 10,
                        left: $link.offset().left + 10
                    });
                }
            });

            $('#slipDate').datepicker({
                showOtherMonths: true,
                selectOtherMonths: true,
                dateFormat: "yy-mm-dd",
                dayNamesMin: ["Pz", "Pt", "Sa", "Ca", "Pe", "Cu", "Ct"],
                monthNames: ["Ocak", "Şubat", "Mart", "Nisan", "Mayıs", "Haziran", "Temmuz", "Ağustos", "Eylül", "Ekim", "Kasım", "Aralık"],
                firstDay: 1
            });

            $('#ExpSlipDate').datepicker({
                showOtherMonths: true,
                selectOtherMonths: true,
                dateFormat: "yy-mm-dd",
                dayNamesMin: ["Pz", "Pt", "Sa", "Ca", "Pe", "Cu", "Ct"],
                monthNames: ["Ocak", "Şubat", "Mart", "Nisan", "Mayıs", "Haziran", "Temmuz", "Ağustos", "Eylül", "Ekim", "Kasım", "Aralık"],
                firstDay: 1
            });

            $('#crSlipDate').datepicker({
                showOtherMonths: true,
                selectOtherMonths: true,
                dateFormat: "yy-mm-dd",
                dayNamesMin: ["Pz", "Pt", "Sa", "Ca", "Pe", "Cu", "Ct"],
                monthNames: ["Ocak", "Şubat", "Mart", "Nisan", "Mayıs", "Haziran", "Temmuz", "Ağustos", "Eylül", "Ekim", "Kasım", "Aralık"],
                firstDay: 1
            });

            $("#LocationResultDate").click(function () {
                $("#DatePicker").datepicker("show");
            });


        });

        $(function () {
            $('.shiftbegintime').mask('00:00');
            $('.hour').mask('00:00');
            $('.hourfull').mask('00:00:00');
            $('.shiftdate').mask('0000-00-00');
            $('.money').mask("#.##0,00", { reverse: true });
            $('.money4').mask("#.##0,0000", { reverse: true });
        });

    </script>

    <script src="~/assets/js/ActionForceScript.js"></script>


    @if (Model.Result != null) //
    {
        <script type="text/javascript">
        $.toast({
            heading: 'Information',
            text: '@Model.Result.Message ',
            showHideTransition: 'slide',
            icon: 'info',
            hideAfter: 5000,
            position: 'bottom-right',
        });
        </script>
    }
}
